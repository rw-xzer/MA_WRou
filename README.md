# Tracktivity

**Maturitätsarbeit 2025/26 Kantonsschule Uster FS Informatik**

A gamified habit tracking and productivity web application built with Django. 
Tracktivity combines task management, habit tracking, and study session monitoring with RPG-style gamification mechanics.

## Table of Contents

- [Overview](#overview)
- [Features](#features)
- [Project Structure](#project-structure)
- [Technology Stack](#technology-stack)
- [Prerequisites](#prerequisites)
- [Installation](#installation)
- [Configuration](#configuration)
- [Running the Application](#running-the-application)
- [Usage](#usage)
- [API Endpoints](#api-endpoints)
- [Database Models](#database-models)
- [Development Notes](#development-notes)


## Overview

Tracktivity is a web-based productivity application that gamifies task and habit management. Users can:

- Create and manage tasks (scheduled and daily)
- Track habits with positive/negative counters
- Monitor study sessions with subject-based time tracking
- Earn XP, coins, and level up through completing tasks
- Customize avatars with earned coins
- View statistics and weekly recaps


## Features

### Core Functionality
- **Task Management**
- **Habit Tracking**
- **Study Sessions**
- **Gamification**
- **Statistics**
- **Shop System**

### User Interface
- Design with Tailwind CSS
- Updates via JavaScript
- SVG avatar system with multiple states (idle, celebrate, hurt)
- Color-coded tasks and habits based on status/streak
- Modal-based forms for creating/editing items


## Project Structure (styling (not content) generated by ChatGPT)

```
MA_WRou/
├── core/                          # Main Django application
│   ├── __init__.py
│   ├── admin.py                   # Django admin configuration
│   ├── apps.py                    # App configuration
│   ├── models.py                  # Database models
│   ├── signals.py                 # Django signal handlers
│   ├── urls.py                    # URL routing
│   ├── views/                     # View modules
│   │   ├── auth_views.py          # Authentication views
│   │   ├── game_views.py          # Core game mechanics API
│   │   └── shop_stats_views.py     # Shop and statistics API
│   └── migrations/                # Database migrations
│       └── *.py                   # Migration files
│
├── tracktivity/                   # Django project configuration
│   ├── __init__.py
│   ├── settings.py                # Django settings
│   ├── urls.py                    # Root URL configuration
│   ├── wsgi.py                    # WSGI configuration
│   └── asgi.py                    # ASGI configuration
│
├── templates/                     # HTML templates
│   ├── base.html                  # Base template
│   ├── index.html                 # Main dashboard
│   ├── login.html                 # Login page
│   ├── register.html             # Registration page
│   ├── shop.html                  # Shop page
│   └── stats.html                 # Statistics page
│
├── static/                        # Static files
│   ├── app.css                    # Main stylesheet
│   ├── shop.js                    # Shop page JavaScript
│   ├── stats.js                   # Statistics page JavaScript
│   ├── js/                        # JavaScript modules
│   │   ├── config.js              # Configuration constants
│   │   ├── dailies.js             # Daily task management
│   │   ├── habits.js              # Habit management
│   │   ├── modals.js              # Modal utilities
│   │   ├── studySessions.js       # Study session tracking
│   │   ├── tags.js                # Tag management
│   │   ├── tasks.js               # Task management
│   │   ├── userProfile.js         # User profile management
│   │   ├── utils.js               # Utility functions
│   │   └── weekRecap.js           # Weekly recap functionality
│   └── avatars/                   # SVG avatar assets
│       ├── clothes/                # Clothing items
│       └── default_girl/          # Default character assets
│
├── manage.py                      # Django management script
├── requirements.txt               # Python dependencies
├── package.json                   # Node.js dependencies
├── db.sqlite3                     # SQLite database (not in repo)
├── .gitignore                     # Git ignore rules
└── README.md                      # This file
```


## Technology Stack

### Backend
- **Django 5.2.6+**: Web framework
- **Python 3.x**: Programming language
- **SQLite**: Database
- **python-dotenv**: Environment variable management

### Frontend
- **JavaScript (ES6+)**: Client-side logic
- **Tailwind CSS**: CSS framework
- **SVG**: Avatar and icon graphics

### Development Tools
- **Node.js**: For Tailwind CSS and development dependencies
- **Git**: Version control


## Prerequisites

- **Python 3.8+** 
- **pip**
- **Git**


## Installation

### 1. Clone the Repository

```bash
git clone https://github.com/rw-xzer/MA_WRou.git
cd MA_WRou
```

### 2. Create Virtual Environment

```bash
# Windows
python -m venv venv
venv\Scripts\activate

# macOS/Linux
python3 -m venv venv
source venv/bin/activate
```

### 3. Install Python Dependencies

```bash
pip install -r requirements.txt
```

### 4. Set Up Environment Variables

Create a `.env` file in the project root:

```env
SECRET_KEY=your-secret-key-here
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1
TIME_ZONE=UTC
```

**Important**: Generate a secure `SECRET_KEY` for production using:

```bash
# Windows (with virtual environment activated)
python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"

# Or if using the virtual environment directly:
venv\Scripts\python.exe -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"

# macOS/Linux (with virtual environment activated)
python3 -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
```

**Note**: Make sure your virtual environment is activated or use the full path to the Python executable in your virtual environment. Copy the generated key and paste it as the value for `SECRET_KEY` in your `.env` file.

### 5. Run Database Migrations

```bash
python manage.py migrate
```

This creates the database tables based on the models.

### 6. Create Superuser (Optional)

To access the Django admin panel:

```bash
python manage.py createsuperuser
```


## Configuration

### Django Settings

The main configuration is in `tracktivity/settings.py`. Key settings:

- **Database**: SQLite by default (`db.sqlite3`)
- **Static Files**: Served from `static/` directory
- **Templates**: Located in `templates/` directory


## Running the Application

### Development Server

```bash
python manage.py runserver
```

The application will be available at `http://127.0.0.1:8000/`

### Access Points

- **Main Dashboard**: `http://127.0.0.1:8000/`
- **Login**: `http://127.0.0.1:8000/login/`
- **Register**: `http://127.0.0.1:8000/register/`
- **Shop**: `http://127.0.0.1:8000/shop/`
- **Statistics**: `http://127.0.0.1:8000/stats/`
- **Admin Panel**: `http://127.0.0.1:8000/admin/` (requires superuser)


## Usage

### Getting Started

1. **Register an Account**: Visit `/register/` to create a new account
2. **Login**: Use your credentials at `/login/`
3. **Create Tasks**: Click "Add Task" to create scheduled or daily tasks
4. **Track Habits**: Create habits to track positive/negative behaviors
5. **Start Study Sessions**: Use the study session feature to track study time
6. **Complete Items**: Check off tasks and habits to earn XP and coins
7. **Level Up**: Gain XP to level up and earn rewards
8. **Customize Avatar**: Spend coins in the shop to customize your avatar

### Key Features

#### Tasks
- **Scheduled Tasks**: One-time tasks with optional due dates
- **Daily Tasks**: Recurring tasks that reset daily with streak tracking

#### Habits
- Track both positive and negative actions
- Automatic color coding based on positive/negative ratio
- Reset frequency options (daily, weekly, monthly, never)

#### Study Sessions
- Start/stop timer for study sessions
- Assign subjects with color coding
- Track total study time per subject

#### Gamification
- **XP System**
- **Health Points**
- **Coins**


## API Endpoints

The application uses a RESTful API architecture. 
All API endpoints require authentication.

### Authentication
- `POST /login/` - User login
- `POST /register/` - User registration
- `POST /logout/` - User logout

### User Profile
- `GET /api/profile/` - Get user profile data
- `POST /api/profile/` - Update user profile/avatar

### Tasks
- `GET /api/tasks/` - Get all tasks (with filters)
- `POST /api/tasks/create/` - Create new task
- `PUT /api/tasks/<id>/update/` - Update task
- `DELETE /api/tasks/<id>/delete/` - Delete task
- `POST /api/tasks/<id>/complete/` - Complete/uncomplete task

### Habits
- `GET /api/habits/` - Get all habits (with filters)
- `POST /api/habits/create/` - Create new habit
- `PUT /api/habits/<id>/update/` - Update habit
- `DELETE /api/habits/<id>/delete/` - Delete habit
- `POST /api/habits/<id>/complete/` - Complete habit (positive/negative)

### Study Sessions
- `POST /api/habits/study/start/` - Start study session
- `POST /api/habits/study/stop/` - Stop study session
- `GET /api/study/stats/` - Get study statistics
- `GET /api/study/colors` - Get subject colors
- `POST /api/study/colors/carry-over` - Carry over monthly colors

### Daily Management
- `GET /api/dailies/check` - Check for pending dailies
- `POST /api/dailies/reset` - Reset dailies for new day

### Statistics
- `GET /api/recap/` - Get weekly recap
- `GET /api/stats/slots/` - Get stat slot configuration
- `POST /api/stats/slots/` - Update stat slot
- `GET /api/stats/value/` - Get stat value by type

### Shop
- `GET /api/shop/items/` - Get shop items
- `POST /api/shop/purchase/` - Purchase item
- `POST /api/shop/rewards/create/` - Create custom reward
- `PUT /api/shop/rewards/<id>/update/` - Update reward
- `DELETE /api/shop/rewards/<id>/delete/` - Delete reward

### Tags
- `GET /api/tags/` - Get all tags


## Database Models

### UserProfile
Extended user profile with game statistics:
- Level, XP, HP, Coins
- Avatar customization fields
- All-time statistics tracking

### Task
Tasks can be scheduled or daily:
- Title, details, difficulty, tags
- Due date (for scheduled tasks)
- Completion status and streak (for daily tasks)
- Color coding based on status/streak

### Habit
Habit tracking with positive/negative counters:
- Title, details, difficulty, tags
- Positive/negative counters
- Reset frequency
- Color coding based on ratio

### StudySession
Study session tracking:
- Subject, color, start/end time
- Duration in minutes
- Active status

### ShopItem
Items available for purchase:
- Name, description, price
- Item type (character or customization)
- User-specific custom rewards

### Tag
Tags for categorizing tasks and habits

### Log Models
- `HabitLog`: Log of habit completions
- `TaskLog`: Log of task completions with XP/coins earned
- `LevelLog`: Log of level ups


## Development Notes

### Code Organization

- **Backend**: Django follows MVC pattern with models, views, and templates
- **Frontend**: JavaScript modules organized by feature (tasks, habits, etc.)
- **API**: RESTful API with JSON responses
- **Signals**: Django signals automatically create UserProfile on user creation

### Key Design Decisions

1. **Gamification**: XP formula: `((level - 1) + level) * 20`
2. **Color Coding**: Dynamic colors based on task/habit status
3. **Study Tracking**: Subject-based with monthly color assignments
4. **Avatar System**: SVG-based with multiple states and customization

### Debug Mode

Set `DEBUG=True` in `.env` for detailed error messages. **Never use in production!**


## License

This project is part of a Maturitätsarbeit (matura thesis) and is for educational purposes.

## Author

Maturitätsarbeit Rou Wong 2026 Kantonsschule Uster FS Informatik
